{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = ({ tags: alt, webformatURL: src, largeImageURL: href, likes, views, comments, downloads}) => {\n    return `\n      <a class=\"gallery-item\" href=\"${href}\">\n      <img class=\"gallery-image\" src=\"${src}\" alt=\"${alt}\" title=\"${alt}\"/>\n      <div class=\"gallery-text-block\">\n      <p class=\"gallery-text\">Likes<br>${likes}</p>\n      <p class=\"gallery-text\">Views<br>${views}</p>\n      <p class=\"gallery-text\">Comments<br>${comments}</p>\n      <p class=\"gallery-text\">Downloads<br>${downloads}</p>\n      </div>\n      </a>\n    `;\n};\n  \n\n\n","export const fetchPhotosByQuery = searchedQuery => {\n    const requestParams = new URLSearchParams({\n      q: searchedQuery,\n      per_page: 9,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      key: '50720550-abdb0a32f459975af0b381b86',\n    });\n  \n    return fetch(`https://pixabay.com/api/?${requestParams}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n};\n  ","import { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    gallery: document.querySelector('.js-gallery'),\n    loader: document.querySelector('.js-loader'),\n};\n  \nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n  \n    const { target: searchForm } = event;\n  \n    const searchedQuery = searchForm.elements.user_query.value;\n  \n    refs.loader.classList.add('active');\n  \n    refs.gallery.innerHTML = '';\n  \n    fetchPhotosByQuery(searchedQuery)\n      .finally(() => {\n        refs.loader.classList.remove('active');\n      })\n        .then(data => {\n        if (!searchedQuery.trim()) {\n            return;\n        }\n        if (data.total === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n  \n          refs.gallery.innerHTML = '';\n  \n          return;\n        }\n  \n        const galleryCardsTemplate = data.hits.map(pictureInfo => createGalleryCardTemplate(pictureInfo)).join('');\n  \n        refs.gallery.innerHTML = galleryCardsTemplate;\n        \n        const lightbox = new SimpleLightbox('.js-gallery a');\n        lightbox.refresh();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n  \n  refs.searchForm.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","alt","src","href","likes","views","comments","downloads","fetchPhotosByQuery","searchedQuery","requestParams","response","refs","onSearchFormSubmit","event","searchForm","data","iziToast","galleryCardsTemplate","pictureInfo","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA4B,CAAC,CAAE,KAAMC,EAAK,aAAcC,EAAK,cAAeC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACrH;AAAA,sCAC2BJ,CAAI;AAAA,wCACFD,CAAG,UAAUD,CAAG,YAAYA,CAAG;AAAA;AAAA,yCAE9BG,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA;AAAA,MCRzCC,EAAqBC,GAAiB,CAC/C,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,EAAGD,EACH,SAAU,EACV,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAK,oCACX,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAa,EAAE,EAAE,KAAKC,GAAY,CACzE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,ECPMC,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC/C,EAEMC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,KAAM,CAAE,OAAQC,CAAY,EAAGD,EAEzBL,EAAgBM,EAAW,SAAS,WAAW,MAErDH,EAAK,OAAO,UAAU,IAAI,QAAQ,EAElCA,EAAK,QAAQ,UAAY,GAEzBJ,EAAmBC,CAAa,EAC7B,QAAQ,IAAM,CACbG,EAAK,OAAO,UAAU,OAAO,QAAQ,CAC7C,CAAO,EACE,KAAKI,GAAQ,CACd,GAAI,CAACP,EAAc,OACf,OAEJ,GAAIO,EAAK,QAAU,EAAG,CAClBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EAEHL,EAAK,QAAQ,UAAY,GAEzB,MACD,CAED,MAAMM,EAAuBF,EAAK,KAAK,IAAIG,GAAenB,EAA0BmB,CAAW,CAAC,EAAE,KAAK,EAAE,EAEzGP,EAAK,QAAQ,UAAYM,EAER,IAAIE,EAAe,eAAe,EAC1C,QAAO,CACxB,CAAO,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,CACP,EAEET,EAAK,WAAW,iBAAiB,SAAUC,CAAkB"}